<!DOCTYPE html>
<html>

<head>
    <title>kellyjandrews</title>
    <link rel='stylesheet' href='/assets/css/styles.css' type='text/css' media='all' />
    <script src="/assets/js/bundle.js"></script>
    <link rel="alternate" type="application/rss+xml" title="kellyjandrews" href="/rss/">
    <link rel="canonical" href="http://kellyjandrews.com/" />
</head>


<body>
  <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="row">
    <div class="col-md-6">
      <header class="site-header">
        <h1>
            <a href="/" title="kellyjandrews">kelly j andrews</a>
        </h1>
    </header>
</div>
    <div class="col-md-6 text-right">
      <a href="/experience" class="navlink"><i class="fa fa-info-circle fa-2x"></i></a>
      <a href="https://github.com/kellyjandrews" target="_blank"><i class="fa fa-github fa-2x"></i></a>
      <a href="https://twitter.com/kellyjandrews" target="_blank" ><i class="fa fa-twitter fa-2x"></i></a>
      <a href="https://www.linkedin.com/in/kjandrews/en" target="_blank" ><i class="fa fa-linkedin fa-2x"></i></a>
      <a href="https://stackexchange.com/users/2222625/kelly-j-andrews" target="_blank"><i class="fa fa-stack-exchange fa-2x"></i></a>
  </div>
  </div>
  </div>
</nav>


    <div class="container-fluid">
        <div class="padded">
	<div class="col-md-8 col-md-offset-2">
  <h1>Using Fuel oAuth with the SOAP API</h1>
<p>Security is a major concern for people these days.  With so many business having a breach of some kind, everyone get’s up tight around security concerns. And rightfully so - I’m not a fan of changing passwords all the time because a company left my private data hanging out.</p>

<p>At ExactTarget, security has always been a huge area of concern for us, and we go a long way to help our clients keep their data protected. Over the last couple years, much effort in securing the API services has brought out oAuth2 as a new standard for our API calls.  Using this with the SOAP API is fairly straight forward, and removes the need to include user name and passwords in your SOAP packets.</p>

<p>First, you will need to setup a few things to get it running.  Go to https://code.exacttarget.com and create a user, or log in.  Once that is complete, you will need to go to out AppCenter.  Much like Google and others, you create an application, and tie it directly to your ExactTarget account.  This abstracts your user, and will give you a clientID, and clientSecret to use when retrieving your keys.  For a more complete overview of AppCenter visit <a href="https://code.exacttarget.com/getting-started/app-center-overview">this page</a>. For our instance, create a “Server-to-server” application.</p>

<p>Once you have your app created, you will need to do a quick key retrieval of your API key.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nx">curl</span> <span class="o">-</span><span class="nx">X</span> <span class="nx">POST</span> <span class="o">-</span><span class="nx">H</span> <span class="s2">"Content-Type: application/json"</span> <span class="o">-</span><span class="nx">d</span> <span class="s1">'{ "clientId": "YOURID","clientSecret": "YOURSECRET"}'</span> <span class="nx">https</span><span class="err">:</span><span class="c1">//auth.exacttargetapis.com/v1/requestToken</span>
</code></pre>
</div>

<p>Running this cURL request should return you</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="s2">"accessToken"</span><span class="err">:</span><span class="s2">"YOURACCESSTOKEN"</span><span class="p">,</span><span class="s2">"expiresIn"</span><span class="err">:</span><span class="mi">3600</span><span class="p">}</span>
</code></pre>
</div>

<p>If not - check your clientID and clientSecret, make sure those are accurate.</p>

<p>Once you have your Access Token, make note that it does expire in 60 minutes.  Easiest way to work with this is write a function for when the call comes back unauthorized to grab a new token.</p>

<p>In order to use this token in your SOAP calls, you would need the following</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;Header&gt;</span>
    <span class="nt">&lt;fueloauth</span> <span class="na">xmlns=</span><span class="s">"http://exacttarget.com"</span><span class="nt">&gt;</span>YOURACCESSTOKEN<span class="nt">&lt;/fueloauth&gt;</span>
<span class="nt">&lt;/Header&gt;</span>
</code></pre>
</div>

<p>I prefer this method as it lends to better security, and allows for a cleaner SOAP packet to be sent.</p>

<p>As you are building out your integrations, I would recommend incorporating this into your flow - super helpful!</p>





<div id="disqus_thread"></div>
   <script type="text/javascript">
       /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
       var disqus_shortname = 'kellyjandrews'; // required: replace example with your forum shortname
       var disqus_title = "Using Fuel oAuth with the SOAP API";
       /* * * DON'T EDIT BELOW THIS LINE * * */
       (function() {
           var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
           dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
           (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
       })();
   </script>
   <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</div>

</div>

    </div>

    <footer class="text-center">
    <small>All content copyright <a href="/">kelly j andrews</a> &copy; 2016 &bull; All rights reserved.</small>
    </a>
</footer>

    <script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-47461674-1', 'kellyjandrews.com');
    ga('send', 'pageview');
</script>
</body>

</html>
